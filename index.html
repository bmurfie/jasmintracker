<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, interactive-widget=resizes-content">
    <title>Jasmin's Workout Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <div class="app-header">
            <button class="dark-mode-toggle" id="dark-mode-toggle" title="Toggle Dark Mode">
                <span id="dark-mode-icon">🌙</span>
            </button>
            <div class="app-title">Jasmin's Workout Tracker</div>
            <div class="app-subtitle" id="session-timer-display">00:00:00</div>
        </div>

        <div class="tab-bar">
            <button class="tab-btn active" data-tab="track">Track</button>
            <button class="tab-btn" data-tab="stats">Stats</button>
            <button class="tab-btn" data-tab="history">History</button>
            <button class="tab-btn" data-tab="charts">Charts</button>
            <button class="tab-btn" data-tab="nutrition">Nutrition</button>
            <button class="tab-btn" data-tab="plan">Plan</button>
        </div>

        <div id="track-tab" class="tab-content active">
            <div class="workout-controls">
                <input type="date" id="workout-date">
                <select id="day-select">
                    <option value="day1">Day 1: Quads</option>
                    <option value="day2">Day 2: Hamstrings</option>
                    <option value="day4">Day 4: Glutes</option>
                    <option value="day5">Day 5: Upper</option>
                    <option value="day6">Day 6: Abs/Core</option>
                </select>
            </div>

            <div class="progress-section">
                <div class="progress-ring">
                    <svg width="130" height="130">
                        <defs>
                            <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#4A90E2" />
                                <stop offset="100%" style="stop-color:#9B7EBD" />
                            </linearGradient>
                        </defs>
                        <circle class="bg-circle" cx="65" cy="65" r="58"></circle>
                        <circle class="progress-circle" cx="65" cy="65" r="58" 
                                stroke-dasharray="364.42" stroke-dashoffset="364.42" id="progress-circle"></circle>
                    </svg>
                    <div class="progress-text" id="progress-text">0/4</div>
                </div>
                <div class="progress-label" id="progress-label">Ready to Begin</div>
                <div class="progress-sublabel" id="progress-sublabel">Select your workout day above</div>
            </div>

            <div id="current-exercise-container"></div>

            <div style="padding: 20px;">
                <button class="nav-btn nav-btn-primary" style="width: 100%;" id="save-workout-btn">
                    💾 Save Workout
                </button>
            </div>
        </div>

        <div id="stats-tab" class="tab-content">
            <div class="analytics-section">
                <div class="stat-cards">
                    <div class="stat-card">
                        <div class="stat-value" id="total-workouts">0</div>
                        <div class="stat-label">Total Workouts</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="current-streak">0</div>
                        <div class="stat-label">Day Streak</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="total-sets">0</div>
                        <div class="stat-label">Total Sets</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="prs-count">0</div>
                        <div class="stat-label">Personal Records</div>
                    </div>
                </div>

                <div style="display: flex; gap: 12px; margin-bottom: 24px;">
                    <button class="nav-btn nav-btn-secondary" style="flex: 1;" id="log-body-weight-btn">
                        📊 Body Weight
                    </button>
                    <button class="nav-btn nav-btn-secondary" style="flex: 1;" id="export-data-btn">
                        💾 Export Data
                    </button>
                </div>

                <div class="content-card">
                    <div class="content-card-title">Personal Records</div>
                    <div id="pr-list-content"></div>
                </div>
            </div>
        </div>

        <div id="history-tab" class="tab-content">
            <div class="history-section">
                <div class="history-calendar">
                    <div class="calendar-title">This Month</div>
                    <div class="calendar-grid" id="calendar-grid"></div>
                </div>

                <div class="content-card">
                    <div class="content-card-title">Recent Workouts</div>
                    <div id="history-list-content"></div>
                </div>
            </div>
        </div>

        <div id="charts-tab" class="tab-content">
            <div class="charts-section">
                <div class="chart-container">
                    <div class="chart-title">Body Weight Trend</div>
                    <canvas id="weight-chart" class="chart-canvas"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-title">Workout Volume Trend</div>
                    <canvas id="volume-chart" class="chart-canvas"></canvas>
                </div>

                <div id="exercise-charts-container"></div>
            </div>
        </div>

        <div id="nutrition-tab" class="tab-content">
            <div class="nutrition-section">
                <div class="content-card">
                    <div class="content-card-title">Daily Macronutrients</div>
                    
                    <div class="macro-card macro-protein">
                        <div class="macro-header">
                            <div class="macro-name">Protein</div>
                            <div class="macro-value">130-150g</div>
                        </div>
                        <div class="macro-bar">
                            <div class="macro-fill" style="width: 40%;"></div>
                        </div>
                        <div class="macro-subtext">520-600 calories • Muscle repair & growth</div>
                    </div>

                    <div class="macro-card macro-carbs">
                        <div class="macro-header">
                            <div class="macro-name">Carbohydrates</div>
                            <div class="macro-value">180-220g</div>
                        </div>
                        <div class="macro-bar">
                            <div class="macro-fill" style="width: 50%;"></div>
                        </div>
                        <div class="macro-subtext">720-880 calories • Energy & performance</div>
                    </div>

                    <div class="macro-card macro-fats">
                        <div class="macro-header">
                            <div class="macro-name">Healthy Fats</div>
                            <div class="macro-value">50-65g</div>
                        </div>
                        <div class="macro-bar">
                            <div class="macro-fill" style="width: 30%;"></div>
                        </div>
                        <div class="macro-subtext">450-585 calories • Hormones & recovery</div>
                    </div>

                    <div class="info-box" style="margin-top: 20px;">
                        <div class="info-box-title">
                            <span>📊</span>
                            <span>Daily Total</span>
                        </div>
                        <div class="info-box-content">
                            <strong>1,690 - 2,065 calories per day</strong><br>
                            Adjust based on activity level and goals
                        </div>
                    </div>
                </div>

                <div class="content-card">
                    <div class="content-card-title">Meal Timing Strategy</div>
                    
                    <div class="tips-list">
                        <li>
                            <strong>Pre-Workout (1-2 hours before)</strong>
                            Complex carbs + lean protein. Examples: Oatmeal with protein powder, banana, or rice with chicken breast.
                        </li>
                        <li>
                            <strong>Post-Workout (within 30 minutes)</strong>
                            Fast-digesting protein + simple carbs. Examples: Whey protein shake with fruit or rice cakes.
                        </li>
                        <li>
                            <strong>Main Meals (3-4 per day)</strong>
                            Balanced portions of protein, complex carbs, healthy fats, and vegetables.
                        </li>
                        <li>
                            <strong>Evening Meal</strong>
                            Higher protein, moderate fats, lower carbs to support overnight recovery.
                        </li>
                    </div>
                </div>

                <div class="content-card">
                    <div class="content-card-title">Hydration Goals</div>
                    
                    <div class="info-box">
                        <div class="info-box-title">
                            <span style="font-size: 1.5rem;">💧</span>
                            <span>Daily Water Intake</span>
                        </div>
                        <div class="info-box-content">
                            <strong style="font-size: 1.125rem; display: block; margin-bottom: 8px;">2.5 - 3.0 Liters</strong>
                            Increase on workout days and during hot weather. Hydrate consistently throughout the day.
                        </div>
                    </div>
                </div>

                <div class="content-card">
                    <div class="content-card-title">Sample Daily Meal Plan</div>
                    
                    <table class="nutrition-table">
                        <thead>
                            <tr>
                                <th>Meal</th>
                                <th>Foods</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><strong>Breakfast</strong></td>
                                <td>3 egg whites + 1 whole egg, oatmeal with berries, Greek yogurt</td>
                            </tr>
                            <tr>
                                <td><strong>Lunch</strong></td>
                                <td>Grilled chicken breast, quinoa, roasted vegetables, avocado</td>
                            </tr>
                            <tr>
                                <td><strong>Snack</strong></td>
                                <td>Protein shake, rice cakes with almond butter</td>
                            </tr>
                            <tr>
                                <td><strong>Dinner</strong></td>
                                <td>Salmon or lean beef, sweet potato, steamed broccoli, olive oil</td>
                            </tr>
                            <tr>
                                <td><strong>Evening</strong></td>
                                <td>Casein protein shake or cottage cheese (optional)</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="content-card">
                    <div class="content-card-title">Supplement Protocol</div>
                    
                    <div class="plan-subsection">
                        <h4>Morning</h4>
                        <ul class="supplement-list">
                            <li>
                                <div class="supplement-icon">💊</div>
                                <span class="supplement-name">Multivitamin</span>
                                <span class="supplement-dosage">1 tablet</span>
                            </li>
                            <li>
                                <div class="supplement-icon">☀️</div>
                                <span class="supplement-name">Vitamin D3</span>
                                <span class="supplement-dosage">2,000 IU</span>
                            </li>
                            <li>
                                <div class="supplement-icon">🐟</div>
                                <span class="supplement-name">Omega-3 Fish Oil</span>
                                <span class="supplement-dosage">1-2g</span>
                            </li>
                        </ul>
                    </div>

                    <div class="plan-subsection">
                        <h4>Pre-Workout (30 min before)</h4>
                        <ul class="supplement-list">
                            <li>
                                <div class="supplement-icon">☕</div>
                                <span class="supplement-name">Caffeine</span>
                                <span class="supplement-dosage">200mg</span>
                            </li>
                            <li>
                                <div class="supplement-icon">⚡</div>
                                <span class="supplement-name">Creatine Monohydrate</span>
                                <span class="supplement-dosage">5g</span>
                            </li>
                            <li>
                                <div class="supplement-icon">🔥</div>
                                <span class="supplement-name">Beta-Alanine</span>
                                <span class="supplement-dosage">3-4g</span>
                            </li>
                            <li>
                                <div class="supplement-icon">💪</div>
                                <span class="supplement-name">Citrulline Malate</span>
                                <span class="supplement-dosage">6-8g</span>
                            </li>
                        </ul>
                    </div>

                    <div class="plan-subsection">
                        <h4>Post-Workout</h4>
                        <ul class="supplement-list">
                            <li>
                                <div class="supplement-icon">🥛</div>
                                <span class="supplement-name">Whey Protein Isolate</span>
                                <span class="supplement-dosage">25-30g</span>
                            </li>
                            <li>
                                <div class="supplement-icon">🔗</div>
                                <span class="supplement-name">BCAAs (optional)</span>
                                <span class="supplement-dosage">5g</span>
                            </li>
                        </ul>
                    </div>

                    <div class="plan-subsection">
                        <h4>Evening</h4>
                        <ul class="supplement-list">
                            <li>
                                <div class="supplement-icon">🌙</div>
                                <span class="supplement-name">Magnesium Glycinate</span>
                                <span class="supplement-dosage">400mg</span>
                            </li>
                            <li>
                                <div class="supplement-icon">😴</div>
                                <span class="supplement-name">Casein Protein (optional)</span>
                                <span class="supplement-dosage">20-30g</span>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div id="plan-tab" class="tab-content">
            <div class="plan-section">
                <button class="nav-btn nav-btn-secondary" style="width: 100%; margin-bottom: 20px;" onclick="togglePlanEditMode()">
                    ⚙️ Edit/Save Workout Plan
                </button>
                
                <div class="content-card" id="plan-workout-program">
                    <div class="content-card-title">7-Day Training Split</div>
                    <div id="plan-split-content">
                        </div>
                </div>

                <div class="content-card">
                    <div class="content-card-title">Movement & Form Guidelines</div>
                    
                    <div class="plan-subsection">
                        <h4>Mind-Muscle Connection</h4>
                        <div class="tips-list">
                            <li>
                                <strong>Visualize the Target</strong>
                                Before each rep, mentally picture the muscle contracting and stretching under tension.
                            </li>
                            <li>
                                <strong>Controlled Tempo</strong>
                                Use a 2-1-2 tempo: 2 seconds lowering, 1 second squeeze, 2 seconds lifting.
                            </li>
                            <li>
                                <strong>Focus on Sensation</strong>
                                Concentrate on feeling the muscle work, not just moving the weight from point A to B.
                            </li>
                        </div>
                    </div>

                    <div class="plan-subsection">
                        <h4>Essential Form Cues</h4>
                        <div class="tips-list">
                            <li>
                                <strong>Leg Exercises</strong>
                                Core engaged, knees tracking over toes, full range of motion, maintain neutral spine.
                            </li>
                            <li>
                                <strong>Upper Body</strong>
                                Shoulders back and down, chest up, controlled breathing, stable core throughout.
                            </li>
                            <li>
                                <strong>Hip Thrusts</strong>
                                Squeeze glutes at top, keep ribs down, posterior pelvic tilt, full hip extension.
                            </li>
                            <li>
                                <strong>Core Work</strong>
                                Brace abs as if taking a punch, breathe through nose, maintain neutral spine position.
                            </li>
                        </div>
                    </div>

                    <div class="plan-subsection">
                        <h4>Breathing Technique</h4>
                        <div class="info-box">
                            <div class="info-box-title">
                                <span>🫁</span>
                                <span>Proper Breathing Pattern</span>
                            </div>
                            <div class="info-box-content">
                                <strong>Eccentric (lowering):</strong> Breathe IN deeply through nose<br>
                                <strong>Concentric (lifting):</strong> Breathe OUT forcefully through mouth<br>
                                <strong>Peak contraction:</strong> Hold breath and squeeze for 1 second
                            </div>
                        </div>
                    </div>

                    <div class="plan-subsection">
                        <h4>Training to Failure</h4>
                        <div class="tips-list">
                            <li>
                                <strong>True Muscular Failure</strong>
                                Cannot complete another rep with proper form despite maximum effort.
                            </li>
                            <li>
                                <strong>Form Breakdown = Stop</strong>
                                End the set immediately if technique deteriorates. Injury prevention is priority.
                            </li>
                            <li>
                                <strong>Positive Failure</strong>
                                For safety on certain exercises, stop when you can't lift the weight (before lowering phase).
                            </li>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="floating-timer" onclick="openTimer()">
        <span class="timer-icon" id="timer-float-icon">⏱️</span>
    </div>

    <div class="timer-modal" id="timer-modal">
        <div class="timer-modal-content">
            <h3 class="timer-modal-title">Rest Timer</h3>
            <div class="timer-display" id="timer-display">03:00</div>
            <div class="timer-presets">
                <div class="timer-preset" onclick="setRestTime(60)">1:00</div>
                <div class="timer-preset active" onclick="setRestTime(180)">3:00</div>
                <div class="timer-preset" onclick="setRestTime(300)">5:00</div>
                <div class="timer-preset" onclick="setRestTime(420)">7:00</div>
            </div>
            <div class="timer-controls">
                <button class="nav-btn nav-btn-secondary" onclick="closeTimer()">Close</button>
                <button class="nav-btn nav-btn-primary" id="timer-start-btn" onclick="toggleTimer()">Start</button>
            </div>
        </div>
    </div>

    <div class="completion-modal" id="completion-modal">
        <div class="completion-content">
            <div class="completion-icon">🎉</div>
            <div class="completion-title">Workout Complete!</div>
            <div class="completion-stats" id="completion-stats"></div>
            
            <div class="workout-rating">
                <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 8px;">How did it feel?</div>
                <div class="rating-stars" id="rating-stars">
                    <span class="star" onclick="setRating(1)">★</span>
                    <span class="star" onclick="setRating(2)">★</span>
                    <span class="star" onclick="setRating(3)">★</span>
                    <span class="star" onclick="setRating(4)">★</span>
                    <span class="star" onclick="setRating(5)">★</span>
                </div>
                <div class="workout-tags" id="workout-tags">
                    <span class="tag" onclick="toggleTag(this, 'strong')">💪 Felt Strong</span>
                    <span class="tag" onclick="toggleTag(this, 'tired')">😴 Tired</span>
                    <span class="tag" onclick="toggleTag(this, 'pr')">🏆 PR Day</span>
                    <span class="tag" onclick="toggleTag(this, 'struggled')">😓 Struggled</span>
                </div>
            </div>
            
            <div class="completion-quote">"The pain you feel today will be the strength you feel tomorrow"</div>
            <button class="nav-btn nav-btn-primary" style="width: 100%;" onclick="closeCompletionModal()">
                Continue
            </button>
        </div>
    </div>

    <div class="pr-celebration" id="pr-celebration">
        <div class="pr-celebration-content">
            <div class="pr-icon">🏆</div>
            <div class="pr-title">NEW PERSONAL RECORD!</div>
            <div id="pr-details" style="font-size: 1.125rem; color: var(--text-primary); margin: 20px 0;"></div>
            <button class="nav-btn nav-btn-primary" style="width: 100%;" onclick="closePRCelebration()">
                Amazing! 🎉
            </button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
