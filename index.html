<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, interactive-widget=resizes-content">
    <title>Jasmin's Workout Tracker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.3/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app-container">
        <div class="app-header">
            <button class="dark-mode-toggle" id="dark-mode-toggle" title="Toggle Dark Mode">
                <span id="dark-mode-icon">üåô</span>
            </button>
            <div class="app-title">Jasmin's Workout Tracker</div>
            <div class="app-subtitle">High Intensity Training ‚Ä¢ Mentzer Protocol</div>
        </div>

        <div class="tab-bar">
            <button class="tab-btn active" data-tab="track">Track</button>
            <button class="tab-btn" data-tab="stats">Stats</button>
            <button class="tab-btn" data-tab="history">History</button>
            <button class="tab-btn" data-tab="charts">Charts</button>
            <button class="tab-btn" data-tab="nutrition">Nutrition</button>
            <button class="tab-btn" data-tab="plan">Plan</button>
        </div>

        <div id="track-tab" class="tab-content active">
            <div class="workout-controls">
                <input type="date" id="workout-date">
                <select id="day-select">
                    <option value="day1">Day 1: Quads</option>
                    <option value="day2">Day 2: Hamstrings</option>
                    <option value="day4">Day 4: Glutes</option>
                    <option value="day5">Day 5: Upper</option>
                    <option value="day6">Day 6: Abs/Core</option>
                </select>
            </div>

            <div class="progress-section">
                <div class="progress-ring">
                    <svg width="130" height="130">
                        <defs>
                            <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                                <stop offset="0%" style="stop-color:#4A90E2" />
                                <stop offset="100%" style="stop-color:#9B7EBD" />
                            </linearGradient>
                        </defs>
                        <circle class="bg-circle" cx="65" cy="65" r="58"></circle>
                        <circle class="progress-circle" cx="65" cy="65" r="58" 
                                stroke-dasharray="364.42" stroke-dashoffset="364.42" id="progress-circle"></circle>
                    </svg>
                    <div class="progress-text" id="progress-text">0/4</div>
                </div>
                <div class="progress-label" id="progress-label">Ready to Begin</div>
                <div class="progress-sublabel" id="progress-sublabel">Select your workout day above</div>
            </div>

            <div id="current-exercise-container"></div>

            <div style="padding: 20px;">
                <button class="nav-btn nav-btn-primary" style="width: 100%;" id="save-workout-btn">
                    üíæ Save Workout
                </button>
            </div>
        </div>

        <div id="stats-tab" class="tab-content">
            <div class="analytics-section">
                <div class="stat-cards">
                    <div class="stat-card">
                        <div class="stat-value" id="total-workouts">0</div>
                        <div class="stat-label">Total Workouts</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="current-streak">0</div>
                        <div class="stat-label">Day Streak</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="total-sets">0</div>
                        <div class="stat-label">Total Sets</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="prs-count">0</div>
                        <div class="stat-label">Personal Records</div>
                    </div>
                </div>

                <div style="display: flex; gap: 12px; margin-bottom: 24px;">
                    <button class="nav-btn nav-btn-secondary" style="flex: 1;" id="log-body-weight-btn">
                        üìä Body Weight
                    </button>
                    <button class="nav-btn nav-btn-secondary" style="flex: 1;" id="export-data-btn">
                        üíæ Export Data
                    </button>
                </div>

                <div class="content-card">
                    <div class="content-card-title">Personal Records</div>
                    <div id="pr-list-content"></div>
                </div>
            </div>
        </div>

        <div id="history-tab" class="tab-content">
            <div class="history-section">
                <div class="history-calendar">
                    <div class="calendar-title">This Month</div>
                    <div class="calendar-grid" id="calendar-grid"></div>
                </div>

                <div class="content-card">
                    <div class="content-card-title">Recent Workouts</div>
                    <div id="history-list-content"></div>
                </div>
            </div>
        </div>

        <div id="charts-tab" class="tab-content">
            <div class="charts-section">
                <div class="chart-container">
                    <div class="chart-title">Body Weight Trend</div>
                    <canvas id="weight-chart" class="chart-canvas"></canvas>
                </div>
                
                <div class="chart-container">
                    <div class="chart-title">Workout Volume Trend</div>
                    <canvas id="volume-chart" class="chart-canvas"></canvas>
                </div>

                <div id="exercise-charts-container"></div>
            </div>
        </div>

        <div id="nutrition-tab" class="tab-content">...</div>

        <div id="plan-tab" class="tab-content">...</div>
    </div>

    <div class="floating-timer" onclick="openTimer()">
        <span class="timer-icon" id="timer-float-icon">‚è±Ô∏è</span>
    </div>

    <div class="timer-modal" id="timer-modal">
        <div class="timer-modal-content">
            <h3 class="timer-modal-title">Rest Timer</h3>
            <div class="timer-display" id="timer-display">03:00</div>
            <div class="timer-presets">
                <div class="timer-preset" onclick="setRestTime(60)">1:00</div>
                <div class="timer-preset active" onclick="setRestTime(180)">3:00</div>
                <div class="timer-preset" onclick="setRestTime(300)">5:00</div>
                <div class="timer-preset" onclick="setRestTime(420)">7:00</div>
            </div>
            <div class="timer-controls">
                <button class="nav-btn nav-btn-secondary" onclick="closeTimer()">Close</button>
                <button class="nav-btn nav-btn-primary" id="timer-start-btn" onclick="toggleTimer()">Start</button>
            </div>
        </div>
    </div>

    <div class="completion-modal" id="completion-modal">
        <div class="completion-content">
            <div class="completion-icon">üéâ</div>
            <div class="completion-title">Workout Complete!</div>
            <div class="completion-stats" id="completion-stats"></div>
            
            <div class="workout-rating">
                <div style="font-weight: 600; color: var(--text-primary); margin-bottom: 8px;">How did it feel?</div>
                <div class="rating-stars" id="rating-stars">
                    <span class="star" onclick="setRating(1)">‚òÖ</span>
                    <span class="star" onclick="setRating(2)">‚òÖ</span>
                    <span class="star" onclick="setRating(3)">‚òÖ</span>
                    <span class="star" onclick="setRating(4)">‚òÖ</span>
                    <span class="star" onclick="setRating(5)">‚òÖ</span>
                </div>
                <div class="workout-tags" id="workout-tags">
                    <span class="tag" onclick="toggleTag(this, 'strong')">üí™ Felt Strong</span>
                    <span class="tag" onclick="toggleTag(this, 'tired')">üò¥ Tired</span>
                    <span class="tag" onclick="toggleTag(this, 'pr')">üèÜ PR Day</span>
                    <span class="tag" onclick="toggleTag(this, 'struggled')">üòì Struggled</span>
                </div>
            </div>
            
            <div class="completion-quote">"The pain you feel today will be the strength you feel tomorrow"</div>
            <button class="nav-btn nav-btn-primary" style="width: 100%;" onclick="closeCompletionModal()">
                Continue
            </button>
        </div>
    </div>

    <div class="pr-celebration" id="pr-celebration">
        <div class="pr-celebration-content">
            <div class="pr-icon">üèÜ</div>
            <div class="pr-title">NEW PERSONAL RECORD!</div>
            <div id="pr-details" style="font-size: 1.125rem; color: var(--text-primary); margin: 20px 0;"></div>
            <button class="nav-btn nav-btn-primary" style="width: 100%;" onclick="closePRCelebration()">
                Amazing! üéâ
            </button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
